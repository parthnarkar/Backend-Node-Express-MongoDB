<%- include('partials/header') %>
  </head>

  <body>
    <%- include('partials/nav') %>
      <main class="container mx-auto p-8 mt-10 max-w-6xl">
        <h2 class="text-3xl text-red-500 font-bold text-center mb-6">
          Here are our registered homes:
        </h2>

        <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
          <% registeredHomes.forEach(function(home) { %>
            <article
              class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
              <div class="w-full h-48 bg-gray-100">
                <img src="<%= home.houseImage %>" alt="<%= home.houseName %>"
                  class="w-full h-full object-cover object-center">
              </div>
              <div class="p-4">
                <div class="flex items-start justify-between gap-4">
                  <div>
                    <h3 class="text-lg font-semibold text-gray-800">
                      <%= home.houseName %>
                    </h3>
                    <p class="text-sm text-gray-500 mt-1">
                      <%= home.houseLoc %>
                    </p>
                  </div>
                  <div class="text-right">
                    <div class="text-red-600 font-bold">
                      ₹<%= home.housePrice %>
                    </div>
                  </div>
                </div>

                <div class="mt-3 flex items-center justify-between">
                  <div class="flex items-center text-sm">
                    <% const rating=Number(home.houseRating) || 0; %>
                      <div class="flex items-center">
                        <% for (let i=0; i < 5; i++) { %>
                          <% if (i < Math.round(rating)) { %>
                            <span class="text-yellow-400 mr-0.5">★</span>
                            <% } else { %>
                              <span class="text-gray-300 mr-0.5">★</span>
                              <% } %>
                                <% } %>
                      </div>
                      <span class="text-gray-600 ml-2">(<%= home.houseRating %>/5)</span>
                  </div>

                </div>
              </div>
            </article>
            <% }) %>
        </div>
      </main>
  </body>

  </html>